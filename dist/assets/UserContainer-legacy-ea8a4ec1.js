System.register(["./index-legacy-0015246a.js"],(function(e,t){"use strict";var r,n,s,i,u,o,a,c,l,h,d,f,p,v,y,m,R,b,S,I,g,Q,O,E,C,T,U,P,F,k,D,w,x,A,L,M;return{setters:[e=>{r=e._,n=e.l,s=e.m,i=e.o,u=e.q,o=e.t,a=e.u,c=e.v,l=e.x,h=e.y,d=e.z,f=e.A,p=e.S,v=e.B,y=e.C,m=e.D,R=e.E,b=e.F,S=e.G,I=e.H,g=e.I,Q=e.J,O=e.L,E=e.M,C=e.N,T=e.O,U=e.P,P=e.Q,F=e.R,k=e.T,D=e.U,w=e.V,x=e.W,A=e.X,L=e.Y,M=e.Z}],execute:function(){var B=function(e){function t(t,r){var n;return(n=e.call(this)||this).client=t,n.options=r,n.trackedProps=[],n.selectError=null,n.bindMethods(),n.setOptions(r),n}r(t,e);var p=t.prototype;return p.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},p.onSubscribe=function(){1===this.listeners.length&&(this.currentQuery.addObserver(this),q(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},p.onUnsubscribe=function(){this.listeners.length||this.destroy()},p.shouldFetchOnReconnect=function(){return j(this.currentQuery,this.options,this.options.refetchOnReconnect)},p.shouldFetchOnWindowFocus=function(){return j(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},p.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},p.setOptions=function(e,t){var r=this.options,n=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();var s=this.hasListeners();s&&N(this.currentQuery,n,this.options,r)&&this.executeFetch(),this.updateResult(t),!s||this.currentQuery===n&&this.options.enabled===r.enabled&&this.options.staleTime===r.staleTime||this.updateStaleTimeout();var i=this.computeRefetchInterval();!s||this.currentQuery===n&&this.options.enabled===r.enabled&&i===this.currentRefetchInterval||this.updateRefetchInterval(i)},p.getOptimisticResult=function(e){var t=this.client.defaultQueryObserverOptions(e),r=this.client.getQueryCache().build(this.client,t);return this.createResult(r,t)},p.getCurrentResult=function(){return this.currentResult},p.trackResult=function(e,t){var r=this,n={},s=function(e){r.trackedProps.includes(e)||r.trackedProps.push(e)};return Object.keys(e).forEach((function(t){Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:function(){return s(t),e[t]}})})),(t.useErrorBoundary||t.suspense)&&s("error"),n},p.getNextResult=function(e){var t=this;return new Promise((function(r,n){var s=t.subscribe((function(t){t.isFetching||(s(),t.isError&&(null==e?void 0:e.throwOnError)?n(t.error):r(t))}))}))},p.getCurrentQuery=function(){return this.currentQuery},p.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},p.refetch=function(e){return this.fetch(n({},e,{meta:{refetchPage:null==e?void 0:e.refetchPage}}))},p.fetchOptimistic=function(e){var t=this,r=this.client.defaultQueryObserverOptions(e),n=this.client.getQueryCache().build(this.client,r);return n.fetch().then((function(){return t.createResult(n,r)}))},p.fetch=function(e){var t=this;return this.executeFetch(e).then((function(){return t.updateResult(),t.currentResult}))},p.executeFetch=function(e){this.updateQuery();var t=this.currentQuery.fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(s)),t},p.updateStaleTimeout=function(){var e=this;if(this.clearStaleTimeout(),!i&&!this.currentResult.isStale&&u(this.options.staleTime)){var t=o(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout((function(){e.currentResult.isStale||e.updateResult()}),t)}},p.computeRefetchInterval=function(){var e;return"function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e},p.updateRefetchInterval=function(e){var t=this;this.clearRefetchInterval(),this.currentRefetchInterval=e,!i&&!1!==this.options.enabled&&u(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval((function(){(t.options.refetchIntervalInBackground||a.isFocused())&&t.executeFetch()}),this.currentRefetchInterval))},p.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},p.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},p.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},p.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},p.createResult=function(e,t){var r,n=this.currentQuery,s=this.options,i=this.currentResult,u=this.currentResultState,o=this.currentResultOptions,a=e!==n,h=a?e.state:this.currentQueryInitialState,d=a?this.currentResult:this.previousQueryResult,f=e.state,p=f.dataUpdatedAt,v=f.error,y=f.errorUpdatedAt,m=f.isFetching,R=f.status,b=!1,S=!1;if(t.optimisticResults){var I=this.hasListeners(),g=!I&&q(e,t),Q=I&&N(e,n,t,s);(g||Q)&&(m=!0,p||(R="loading"))}if(t.keepPreviousData&&!f.dataUpdateCount&&(null==d?void 0:d.isSuccess)&&"error"!==R)r=d.data,p=d.dataUpdatedAt,R=d.status,b=!0;else if(t.select&&void 0!==f.data)if(i&&f.data===(null==u?void 0:u.data)&&t.select===this.selectFn)r=this.selectResult;else try{this.selectFn=t.select,r=t.select(f.data),!1!==t.structuralSharing&&(r=c(null==i?void 0:i.data,r)),this.selectResult=r,this.selectError=null}catch(E){l().error(E),this.selectError=E}else r=f.data;if(void 0!==t.placeholderData&&void 0===r&&("loading"===R||"idle"===R)){var O;if((null==i?void 0:i.isPlaceholderData)&&t.placeholderData===(null==o?void 0:o.placeholderData))O=i.data;else if(O="function"==typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&void 0!==O)try{O=t.select(O),!1!==t.structuralSharing&&(O=c(null==i?void 0:i.data,O)),this.selectError=null}catch(E){l().error(E),this.selectError=E}void 0!==O&&(R="success",r=O,S=!0)}return this.selectError&&(v=this.selectError,r=this.selectResult,y=Date.now(),R="error"),{status:R,isLoading:"loading"===R,isSuccess:"success"===R,isError:"error"===R,isIdle:"idle"===R,data:r,dataUpdatedAt:p,error:v,errorUpdatedAt:y,failureCount:f.fetchFailureCount,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>h.dataUpdateCount||f.errorUpdateCount>h.errorUpdateCount,isFetching:m,isRefetching:m&&"loading"!==R,isLoadingError:"error"===R&&0===f.dataUpdatedAt,isPlaceholderData:S,isPreviousData:b,isRefetchError:"error"===R&&0!==f.dataUpdatedAt,isStale:K(e,t),refetch:this.refetch,remove:this.remove}},p.shouldNotifyListeners=function(e,t){if(!t)return!0;var r=this.options,n=r.notifyOnChangeProps,s=r.notifyOnChangePropsExclusions;if(!n&&!s)return!0;if("tracked"===n&&!this.trackedProps.length)return!0;var i="tracked"===n?this.trackedProps:n;return Object.keys(e).some((function(r){var n=r,u=e[n]!==t[n],o=null==i?void 0:i.some((function(e){return e===r})),a=null==s?void 0:s.some((function(e){return e===r}));return u&&!a&&(!i||o)}))},p.updateResult=function(e){var t=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!h(this.currentResult,t)){var r={cache:!0};!1!==(null==e?void 0:e.listeners)&&this.shouldNotifyListeners(this.currentResult,t)&&(r.listeners=!0),this.notify(n({},r,e))}},p.updateQuery=function(){var e=this.client.getQueryCache().build(this.client,this.options);if(e!==this.currentQuery){var t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}},p.onQueryUpdate=function(e){var t={};"success"===e.type?t.onSuccess=!0:"error"!==e.type||d(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()},p.notify=function(e){var t=this;f.batch((function(){e.onSuccess?(null==t.options.onSuccess||t.options.onSuccess(t.currentResult.data),null==t.options.onSettled||t.options.onSettled(t.currentResult.data,null)):e.onError&&(null==t.options.onError||t.options.onError(t.currentResult.error),null==t.options.onSettled||t.options.onSettled(void 0,t.currentResult.error)),e.listeners&&t.listeners.forEach((function(e){e(t.currentResult)})),e.cache&&t.client.getQueryCache().notify({query:t.currentQuery,type:"observerResultsUpdated"})}))},t}(p);function q(e,t){return function(e,t){return!(!1===t.enabled||e.state.dataUpdatedAt||"error"===e.state.status&&!1===t.retryOnMount)}(e,t)||e.state.dataUpdatedAt>0&&j(e,t,t.refetchOnMount)}function j(e,t,r){if(!1!==t.enabled){var n="function"==typeof r?r(e):r;return"always"===n||!1!==n&&K(e,t)}return!1}function N(e,t,r,n){return!1!==r.enabled&&(e!==t||!1===n.enabled)&&(!r.suspense||"error"!==e.state.status)&&K(e,r)}function K(e,t){return e.isStaleByTime(t.staleTime)}var W,z=v.createContext((W=!1,{clearReset:function(){W=!1},reset:function(){W=!0},isReset:function(){return W}})),G=function(){return v.useContext(z)};function H(e,t,r){return function(e,t){var r=v.useRef(!1),n=v.useState(0)[1],s=y(),i=G(),u=s.defaultQueryObserverOptions(e);u.optimisticResults=!0,u.onError&&(u.onError=f.batchCalls(u.onError)),u.onSuccess&&(u.onSuccess=f.batchCalls(u.onSuccess)),u.onSettled&&(u.onSettled=f.batchCalls(u.onSettled)),u.suspense&&("number"!=typeof u.staleTime&&(u.staleTime=1e3),0===u.cacheTime&&(u.cacheTime=1)),(u.suspense||u.useErrorBoundary)&&(i.isReset()||(u.retryOnMount=!1));var o=v.useState((function(){return new t(s,u)}))[0],a=o.getOptimisticResult(u);if(v.useEffect((function(){r.current=!0,i.clearReset();var e=o.subscribe(f.batchCalls((function(){r.current&&n((function(e){return e+1}))})));return o.updateResult(),function(){r.current=!1,e()}}),[i,o]),v.useEffect((function(){o.setOptions(u,{listeners:!1})}),[u,o]),u.suspense&&a.isLoading)throw o.fetchOptimistic(u).then((function(e){var t=e.data;null==u.onSuccess||u.onSuccess(t),null==u.onSettled||u.onSettled(t,null)})).catch((function(e){i.clearReset(),null==u.onError||u.onError(e),null==u.onSettled||u.onSettled(void 0,e)}));if(a.isError&&!i.isReset()&&!a.isFetching&&m(u.suspense,u.useErrorBoundary,[a.error,o.getCurrentQuery()]))throw a.error;return"tracked"===u.notifyOnChangeProps&&(a=o.trackResult(a,u)),a}(R(e,t,r),B)}const J=({isOpen:e,data:t,onDidDismiss:r})=>{const[n,s]=Q.useState({}),{mutate:i}=(()=>{const e=y(),{successToast:t}=b(),{setLoading:r}=S();return I({mutationFn:e=>g(e),onMutate:()=>{r(!0)},onError:async e=>{console.log(e)},onSuccess:async r=>{t(`Success Update User ${r}`),e.invalidateQueries({queryKey:["users"]})},onSettled:()=>{r(!1)}})})(),u=(e,t)=>{s((r=>({...r,[e]:t})))};return Q.useEffect((()=>{t&&s({id:t.id,username:t.username,password:t.password,name:t.name,isAdmin:t.isAdmin})}),[t]),O(E,{title:"Update User",isOpen:e,onDidDismiss:r,children:C("form",{onSubmit:e=>{e.preventDefault(),i(n),r()},children:[O(T,{children:O(U,{type:"text",label:"Id",labelPlacement:"floating",value:null==n?void 0:n.id,onIonInput:e=>u("id",e.detail.value),disabled:!0})}),O(T,{children:O(U,{type:"text",label:"Username",labelPlacement:"floating",value:null==n?void 0:n.username,onIonInput:e=>u("username",e.detail.value)})}),O(T,{children:O(U,{type:"password",label:"Password",labelPlacement:"floating",value:null==n?void 0:n.password,onIonInput:e=>u("password",e.detail.value)})}),O(T,{children:O(U,{type:"text",label:"Name",labelPlacement:"floating",value:null==n?void 0:n.name,onIonInput:e=>u("name",e.detail.value)})}),O(T,{children:O(P,{checked:null==n?void 0:n.isAdmin,onIonChange:e=>u("isAdmin",e.detail.checked),children:"Is Admin"})}),O(F,{type:"submit",expand:"block",children:"Submit"})]})})},V=Q.lazy((()=>k((()=>t.import("./TableUser-legacy-270d5fa0.js")),void 0)));e("default",(()=>{const e=Q.useCallback((async()=>await D()),[]),{data:t,refetch:r}=H(["user"],e),[n,s]=Q.useState(),[i,u]=Q.useState(!1);return C(w,{children:[C(x,{title:"Data Users",children:[O(A,{slot:"fixed",onIonRefresh:async e=>{r(),e.detail.complete()},children:O(L,{})}),O(Q.Suspense,{fallback:O(M,{name:"crescent"}),children:t?O(V,{data:t,handleClickBtnEdit:e=>(s(e),void u(!0))}):O(M,{name:"crescent"})})]}),O(J,{isOpen:i,data:n,onDidDismiss:()=>u(!1)})]})}))}}}));
